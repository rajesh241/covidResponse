<div class="container">

  <div>
    <button mat-raised-button (click)="openCreateForm()">Create Form</button>
    <form-builder [form]="form" (change)="onChange($event)"></form-builder>
  </div>

  <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">

    <ng-container *ngFor="let m of markers; let i = index">

      <agm-marker (markerClick)="clickedMarker(m.label, i)" [latitude]="m.lat" [longitude]="m.lng" [label]="m.label" [iconUrl]="m.icon" *ngIf="m.isShown">

        <agm-info-window>
          <div>{{m.content}}</div>
        </agm-info-window>

      </agm-marker>

    </ng-container>

    <agm-circle [latitude]="radiusLat" [longitude]="radiusLong" [radius]="radius" [fillColor]="'gray'"
                [circleDraggable]="true" [editable]="false" (dragEnd)="radiusDragEnd($event)"
                (radiusChange)="event('radiusChange',$event)">
    </agm-circle>

    <ng-container *ngFor="let m of dynamicMarkers; let i = index">

      <agm-marker
        (markerClick)="clickedMarker(m.label, i)"
        [latitude]="m.latitude"
        [longitude]="m.longitude"
        [label]="m.label"
        [iconUrl]="m.iconUrl">
        <agm-info-window>
          <div>{{m.content}}</div>
        </agm-info-window>
      </agm-marker>
    </ng-container>

  </agm-map>

  <div>Latitude: {{latitude}}</div>
  <div>Longitude: {{longitude}}</div>
  <h3> Legends: </h3>
  Support Org <img src='data:image/svg+xml;utf-8, <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path fill="blue" stroke="black" stroke-width=".5" d="M4,8H8V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V8H20A2,2 0 0,1 22,10V14A2,2 0 0,1 20,16H16V20A2,2 0 0,1 14,22H10A2,2 0 0,1 8,20V16H4A2,2 0 0,1 2,14V10A2,2 0 0,1 4,8Z" /></svg>'>
  Support run dry <img src='data:image/svg+xml;utf-8, <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path fill="gray" stroke="black" stroke-width=".5" d="M4,8H8V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V8H20A2,2 0 0,1 22,10V14A2,2 0 0,1 20,16H16V20A2,2 0 0,1 14,22H10A2,2 0 0,1 8,20V16H4A2,2 0 0,1 2,14V10A2,2 0 0,1 4,8Z" /></svg>'>
  People Needing Support (helped) <img src='data:image/svg+xml;utf-8, <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path fill="green" stroke="black" stroke-width=".5" d="M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z" /></svg>'>
  People Still looking for Support <img src='data:image/svg+xml;utf-8, <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path fill="red" stroke="black" stroke-width=".5" d="M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z" /></svg>'>
</div>
